#+TITLE: Not so simple calculator

* Поставновка задачи
Задача: расширить функциональность калькулятора, спроектировав и реализовав:

** Болталка
С чего следует начать?
- expression resolver возможно добавить функций pow, sqrt
- после переноса нужно добавить для интерпретатора тестов
- разработать методы api:
  + resolve_expression
  + history
- сделать интеграцию с БД (sqlite для простоты)
- документация к методам API
- если останется время тесты для api

* Задачи [8/8]
** DONE калькулятор
- State "DONE"       from "TODO"       [2020-11-21 Сб 15:26]
- State "TODO"       from              [2020-11-21 Сб 15:26]
** DONE возможность параллельной работы с несколькими клиентами
- State "DONE"       from "TODO"       [2020-11-21 Сб 18:38]
- State "TODO"       from              [2020-11-20 Пт 21:46]
** DONE поддержку REST API
- State "DONE"       from "INPROGRESS" [2020-11-22 Вс 01:10]
- State "INPROGRESS" from "TODO"       [2020-11-21 Сб 18:37]
- State "TODO"       from              [2020-11-20 Пт 21:45]
*** Методы
- [X] solve_expression
- [X] history

** DONE возможность запросить историю операций
- State "DONE"       from "TODO"       [2020-11-22 Вс 01:23]
- State "TODO"       from              [2020-11-20 Пт 21:46]

Будет производиться в БД SQLite
** DONE тесты [2/3]
- State "DONE"       from "INPROGRESS" [2020-11-22 Вс 15:38]
- State "INPROGRESS" from "TODO"       [2020-11-21 Сб 18:37]
- State "TODO"       from              [2020-11-20 Пт 21:45]


- [X] тесты для exression resolver'a
- [X] тесты методов БД
- [ ] тесты API (если хватит времени)
** DONE обработку ошибок
- State "DONE"       from "INPROGRESS" [2020-11-22 Вс 15:40]
- State "INPROGRESS" from "TODO"       [2020-11-21 Сб 18:37]
- State "TODO"       from              [2020-11-20 Пт 21:46]

- [X] расширенная обработка ошибок (если останется время), например при возникновении ошибки при пользовательском вызове записывать в лог колстэк
** DONE логирование [4/4]
- State "DONE"       from "TODO"       [2020-11-22 Вс 17:25]
- State "TODO"       from              [2020-11-20 Пт 21:46]


- [X] logrus?
- [X] записывать в лог системные сообщения, инициализация, бд, етц
- [X] В файл с настройками из переменных окружения, уровень логгирования
- [X] возможность перенести access log gin'a в файл через переменную окружения
** DONE документацию [3/3]
- State "DONE"       from "TODO"       [2020-11-22 Вс 18:48]
- State "TODO"       from              [2020-11-20 Пт 21:46]


- [X] README для проекта
- [X] переменные окружения
- [X] README для api
